# 键命名

---
#### 尽量使用明文

>可视化管理时，便于查看和管理。特别是在大批量数据的时候，效果明显。

#### **不要太长**

> 虽然 Redis 的Key支持 2 ^ 31 字节长度，Redis 是个内存数据库，键越短你需要的空间就越少。
>
>当数据库中拥有数百万或者数十亿键时，键名的长度将影响重大。在数据中查找这类键值的计算成本很高。
> 
> 所以不推荐使用很长的 Key 名称,如实在太长，建议使用散列值（例如 SHA1、MD5）对 Key 进行散列
>


#### **不要太短**

> 这似乎跟前面的观点相矛盾，其实不然，由于 Redis 经常用于数据库场景，所以对于 Key 命名时，建议尽量提高 Key 的可读性及业务关联性。
>
如系统名+业务名+业务数据+其他
> * 建议
>
> ```
> user:1000:password
> ```
> * 不建议
>
> ```
> u:1000:pwd
> ```



#### **推荐格式**

> 推荐使用 object\-type:id:field 这种格式
>
> * 关键字之间以:分号进行分隔，部分 Redis 的 GUI 管理工具，会根据键的 : 分号做分层显示
> * 名词、动词使用\-横线连接
> * 多单词名称使用“\.”作为连接
>
> ```
> user-token
> user:1000:message.to
> user:1000:message.receive

> 
>```





#### **加前缀**

>多个业务共同使用一个 Redis 数据库实例的时候，为避免键值冲突、覆盖，建议每个应用使用独立的 KEY 前缀
> ```
> open:user-token
> crm:user:1000:message.to
> ```


#### **使用不同数据库Id**

>与加前缀一样，不同应用连接同一个Redis实例时，为避免避免键值冲突、覆盖等情况，建议使用不同数据库ID




#### Example：

> * 用户id为1000的密码
>
> ```Redis
> user:1000:password
> ```
>
> * 用户id为1000的用户信息
>
> ```Redis
> user:1000:info
> ```
>
> * 用户收到的信息
>
> ```Redis
> user:1000:message.receive
> ```
>
> * 用户发送信息
>
> ```
> user:1000:message.to
> ```
>
> * 用户Token集合
>
> ```
> user_token
> open:user_token
> server:user_token
> ```



